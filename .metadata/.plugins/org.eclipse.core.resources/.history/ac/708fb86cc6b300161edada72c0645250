package order_data_servlmpl;

import java.rmi.RemoteException;
import java.util.ArrayList;

import PO.OrderPO;
import datahelper.DataFactorylmpl;
import datahelper.SubOrderDataServlmpl;
import datahelperinterface.DataFactory;
import datahelperinterface.OrderDataHelper;
import datahelperinterface.SubOrderDataServ;
import order_data_serv.OrderDataServ;

public class OrderDataServlmpl implements OrderDataServ{
	private ArrayList<OrderPO> list;
	private DataFactory dataFactory;
	private OrderDataHelper orderDataHelper;
	private SubOrderDataServ subOrderDataServ;
	private static OrderDataServlmpl orderDataServlmpl;
	
	public static OrderDataServlmpl getIntanse(){
		if(orderDataServlmpl==null)
			orderDataServlmpl=new OrderDataServlmpl();
		return orderDataServlmpl;
	}
	
	private OrderDataServlmpl(){
		if(list==null){
			dataFactory=new DataFactorylmpl();
			orderDataHelper=dataFactory.getOrderDataHelper();
			list=orderDataHelper.getAll();
			subOrderDataServ=SubOrderDataServlmpl.getInstance();
		}
	}

	@Override
	public boolean insertOrder(OrderPO po) throws RemoteException {
		boolean tag=true;
		for(int i=0;i<po.getRoom().size();i++){
			if(!tag)
				break;
			subOrderDataServ.insertSubOrder(new SubOrder(po.getRoom().get(i),po.getNum().get(i),
					po.getPrice().get(i),po.getSubtotel().get(i)));
		}
		return false;
	}

	@Override
	public boolean modifiedOrder(OrderPO po) throws RemoteException {
		// TODO Auto-generated method stub
		return false;
	}

	@Override
	public ArrayList<OrderPO> getOrders(String OrderID) throws RemoteException {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public OrderPO getOrderByType(String id, String type) throws RemoteException {
		// TODO Auto-generated method stub
		return null;
	}
}
